{"version":3,"file":"index.js","sources":["../src/index.tsx"],"sourcesContent":["import { useCallback, useEffect, useState } from 'react'\n// eslint-disable-next-line no-unused-vars\nimport { Howl } from 'howler'\n\nexport type PlayFunction = () => void\n\nexport type ReturnValue = [PlayFunction]\n\ninterface TuseSoundProps {\n  src: string\n  volume?: number\n}\n\nexport const useSound = (props: TuseSoundProps) => {\n  const { src, volume = 1 } = props\n  const [howler, setHowler] = useState<Howl | null>(null)\n\n  const play: PlayFunction = useCallback(\n    (options?: any) => {\n      if (typeof options === 'undefined') {\n        options = {}\n      }\n\n      if (!howler) {\n        return\n      }\n\n      howler.play()\n    },\n    [howler]\n  )\n\n  useEffect(() => {\n    const initHowler = async () => {\n      const mod = await import('howler')\n      const howler = new mod.Howl({\n        src: [src],\n        volume: volume\n      })\n      setHowler(howler)\n    }\n    initHowler()\n  }, [])\n\n  useEffect(() => {\n    if (howler === null) {\n      return\n    }\n    howler.volume(volume)\n  }, [volume])\n\n  const returnValue: ReturnValue = [play]\n  return returnValue\n}\n\nexport default useSound\n"],"names":["useSound","props","src","volume","useState","howler","setHowler","play","useCallback","options","useEffect","initHowler","mod","Howl","returnValue"],"mappings":";;;;;;;;;;;;;;;;;;;;;IAaaA,QAAQ,GAAG,SAAXA,QAAW,CAACC,KAAD;EACtB,IAAQC,GAAR,GAA4BD,KAA5B,CAAQC,GAAR;sBAA4BD,KAA5B,CAAaE,MAAb;MAAaA,MAAb,8BAAsB,CAAtB;;EACA,gBAA4BC,cAAQ,CAAc,IAAd,CAApC;MAAOC,MAAP;MAAeC,SAAf;;EAEA,IAAMC,IAAI,GAAiBC,iBAAW,CACpC,UAACC,OAAD;;IAKE,IAAI,CAACJ,MAAL,EAAa;MACX;;;IAGFA,MAAM,CAACE,IAAP;GAVkC,EAYpC,CAACF,MAAD,CAZoC,CAAtC;EAeAK,eAAS,CAAC;IACR,IAAMC,UAAU,YAAVA,UAAU;MAAA;+BACI,mEAAO,QAAP,wBAAZC;UACN,IAAMP,MAAM,GAAG,IAAIO,GAAG,CAACC,IAAR,CAAa;YAC1BX,GAAG,EAAE,CAACA,GAAD,CADqB;YAE1BC,MAAM,EAAEA;WAFK,CAAf;UAIAG,SAAS,CAACD,MAAD,CAAT;;OANc;QAAA;;KAAhB;;IAQAM,UAAU;GATH,EAUN,EAVM,CAAT;EAYAD,eAAS,CAAC;IACR,IAAIL,MAAM,KAAK,IAAf,EAAqB;MACnB;;;IAEFA,MAAM,CAACF,MAAP,CAAcA,MAAd;GAJO,EAKN,CAACA,MAAD,CALM,CAAT;EAOA,IAAMW,WAAW,GAAgB,CAACP,IAAD,CAAjC;EACA,OAAOO,WAAP;AACD;;;;;"}