{"version":3,"file":"index.modern.js","sources":["../src/index.tsx"],"sourcesContent":["import { useCallback, useEffect, useState } from 'react'\n// eslint-disable-next-line no-unused-vars\nimport { Howl } from 'howler'\n\nexport type PlayFunction = () => void\n\nexport type ReturnValue = [PlayFunction]\n\ninterface TuseSoundProps {\n  src: string\n  volume?: number\n}\n\nexport const useSound = (props: TuseSoundProps) => {\n  const { src, volume = 1 } = props\n  const [howler, setHowler] = useState<Howl | null>(null)\n\n  const play: PlayFunction = useCallback(\n    (options?: any) => {\n      if (typeof options === 'undefined') {\n        options = {}\n      }\n\n      if (!howler) {\n        return\n      }\n\n      howler.play()\n    },\n    [howler]\n  )\n\n  useEffect(() => {\n    const initHowler = async () => {\n      const mod = await import('howler')\n      const howler = new mod.Howl({\n        src: [src],\n        volume: volume\n      })\n      setHowler(howler)\n    }\n    initHowler()\n  }, [])\n\n  useEffect(() => {\n    if (howler === null) {\n      return\n    }\n    howler.volume(volume)\n  }, [volume])\n\n  const returnValue: ReturnValue = [play]\n  return returnValue\n}\n\nexport default useSound\n"],"names":["useSound","props","src","volume","howler","setHowler","useState","play","useCallback","options","useEffect","initHowler","mod","Howl","returnValue"],"mappings":";;MAaaA,QAAQ,GAAIC,KAAD;EACtB,MAAM;IAAEC,GAAF;IAAOC,MAAM,GAAG;MAAMF,KAA5B;EACA,MAAM,CAACG,MAAD,EAASC,SAAT,IAAsBC,QAAQ,CAAc,IAAd,CAApC;EAEA,MAAMC,IAAI,GAAiBC,WAAW,CACnCC,OAAD;;IAKE,IAAI,CAACL,MAAL,EAAa;MACX;;;IAGFA,MAAM,CAACG,IAAP;GAVkC,EAYpC,CAACH,MAAD,CAZoC,CAAtC;EAeAM,SAAS,CAAC;IACR,MAAMC,UAAU,GAAG;MACjB,MAAMC,GAAG,GAAG,MAAM,OAAO,QAAP,CAAlB;MACA,MAAMR,MAAM,GAAG,IAAIQ,GAAG,CAACC,IAAR,CAAa;QAC1BX,GAAG,EAAE,CAACA,GAAD,CADqB;QAE1BC,MAAM,EAAEA;OAFK,CAAf;MAIAE,SAAS,CAACD,MAAD,CAAT;KANF;;IAQAO,UAAU;GATH,EAUN,EAVM,CAAT;EAYAD,SAAS,CAAC;IACR,IAAIN,MAAM,KAAK,IAAf,EAAqB;MACnB;;;IAEFA,MAAM,CAACD,MAAP,CAAcA,MAAd;GAJO,EAKN,CAACA,MAAD,CALM,CAAT;EAOA,MAAMW,WAAW,GAAgB,CAACP,IAAD,CAAjC;EACA,OAAOO,WAAP;AACD;;;;;"}